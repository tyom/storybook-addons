(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1294:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(0)),addons_1=__importStar(__webpack_require__(78)),components_1=__webpack_require__(30),Panel_1=__importDefault(__webpack_require__(527)),_1=__webpack_require__(345);addons_1.default.register(_1.ADDON_ID,(function(){addons_1.default.addPanel(_1.PANEL_ID,{title:"Fixtures",type:addons_1.types.PANEL,paramKey:_1.PARAM_KEY,render:function(_a){var _b=_a.active,active=void 0!==_b&&_b,key=_a.key;return react_1.default.createElement(components_1.AddonPanel,{key:key,active:active},react_1.default.createElement(Panel_1.default,null))}})}))},1305:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(0)),theming_1=__webpack_require__(4),addons_1=__importDefault(__webpack_require__(78)),core_events_1=__webpack_require__(66),Panel_1=__webpack_require__(527);exports.default=function PanelSection(_a){var active=_a.active,fixtureContents=_a.fixtureContents,_b=_a.sectionIdx,sectionIdx=void 0===_b?0:_b,_c=_a.selectedFixtureIdx,selectedFixtureIdx=void 0===_c?0:_c,onSelect=_a.onSelect,entries=Panel_1.getEntries(fixtureContents);function handlePreviewKeyDown(_a){handleKeyDown(_a.event)}function handleKeyDown(_a){var key=_a.key,keyedIndex=Number(key)-1;["k","j"].includes(key)&&(keyedIndex="k"===key?selectedFixtureIdx+1:selectedFixtureIdx-1),keyedIndex>=0&&keyedIndex<entries.length&&keyedIndex<10&&selectVariant(keyedIndex)}function selectVariant(variantIdx){onSelect(sectionIdx,variantIdx)}return react_1.useEffect((function(){var channel=addons_1.default.getChannel();return active&&(channel.on(core_events_1.PREVIEW_KEYDOWN,handlePreviewKeyDown),document.addEventListener("keydown",handleKeyDown)),function(){active&&(channel.off(core_events_1.PREVIEW_KEYDOWN,handlePreviewKeyDown),document.removeEventListener("keydown",handleKeyDown))}}),[active,selectedFixtureIdx]),active?react_1.default.createElement(FixturesMenu,null,entries.map((function(_a,idx){var key=_a[0],value=_a[1],buttonClass=[selectedFixtureIdx===idx&&"active"].filter(Boolean).join(" "),previewText=JSON.stringify(value,null,2),previewTextTrimmed=previewText?previewText.trim().slice(0,300):previewText,keyNumber=idx+1;return react_1.default.createElement(FixtureButton,{key:key,type:"button",className:buttonClass,title:keyNumber<10?"Press the "+keyNumber+" key to select the variant (when focused in Preview)":void 0,"data-id":key,onClick:function(){return selectVariant(idx)}},keyNumber<10&&react_1.default.createElement("span",{className:"key"},keyNumber),react_1.default.createElement("span",{className:"preview"},previewTextTrimmed),react_1.default.createElement("span",{className:"name"},key))}))):null};var templateObject_1,templateObject_2,FixturesMenu=theming_1.styled.menu(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));\n  grid-auto-rows: minmax(3rem, 8rem);\n  grid-gap: 0.5rem;\n  padding: 0.5rem;\n  margin: 0;\n"],["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));\n  grid-auto-rows: minmax(3rem, 8rem);\n  grid-gap: 0.5rem;\n  padding: 0.5rem;\n  margin: 0;\n"]))),FixtureButton=theming_1.styled.button(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  background: ",";\n  border: 2px solid transparent;\n  border-radius: 0.3rem;\n  padding: 0.2rem;\n  transition: 100ms border-color;\n  font-size: 0.65rem;\n  display: block;\n  position: relative;\n  text-align: left;\n  box-shadow: 0 1px 2px #0005;\n  color: ",";\n  outline: 0;\n\n  &:hover {\n    filter: brightness(80%);\n  }\n\n  &:active {\n    background-color: ",";\n  }\n\n  &.active {\n    border-color: ",";\n  }\n\n  .key {\n    position: absolute;\n    top: 0.2rem;\n    right: 0.2rem;\n    z-index: 1;\n    border-radius: 0.2rem;\n    background-color: #0002;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 1.4rem;\n    height: 1.4rem;\n    font-size: 0.7rem;\n    font-weight: 600;\n  }\n\n  .preview {\n    border-radius: 0.2rem;\n    padding: 0.2rem 1.8rem 0.2rem 0.2rem;\n    background: #0001;\n    overflow: hidden;\n    white-space: pre-wrap;\n    line-height: 1.2;\n    mask-image: linear-gradient(to bottom, #000a, transparent 90%);\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0.5rem;\n    left: 0;\n  }\n\n  .name {\n    font-size: 1.5em;\n    position: absolute;\n    font-weight: 600;\n    bottom: 0.2rem;\n    left: 0.2rem;\n    padding: 0.2rem;\n  }\n"],["\n  background: ",";\n  border: 2px solid transparent;\n  border-radius: 0.3rem;\n  padding: 0.2rem;\n  transition: 100ms border-color;\n  font-size: 0.65rem;\n  display: block;\n  position: relative;\n  text-align: left;\n  box-shadow: 0 1px 2px #0005;\n  color: ",";\n  outline: 0;\n\n  &:hover {\n    filter: brightness(80%);\n  }\n\n  &:active {\n    background-color: ",";\n  }\n\n  &.active {\n    border-color: ",";\n  }\n\n  .key {\n    position: absolute;\n    top: 0.2rem;\n    right: 0.2rem;\n    z-index: 1;\n    border-radius: 0.2rem;\n    background-color: #0002;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 1.4rem;\n    height: 1.4rem;\n    font-size: 0.7rem;\n    font-weight: 600;\n  }\n\n  .preview {\n    border-radius: 0.2rem;\n    padding: 0.2rem 1.8rem 0.2rem 0.2rem;\n    background: #0001;\n    overflow: hidden;\n    white-space: pre-wrap;\n    line-height: 1.2;\n    mask-image: linear-gradient(to bottom, #000a, transparent 90%);\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0.5rem;\n    left: 0;\n  }\n\n  .name {\n    font-size: 1.5em;\n    position: absolute;\n    font-weight: 600;\n    bottom: 0.2rem;\n    left: 0.2rem;\n    padding: 0.2rem;\n  }\n"])),(function(_a){return _a.theme.background.hoverable}),(function(_a){return _a.theme.color.defaultText}),(function(_a){return _a.theme.barBg}),(function(_a){return _a.theme.color.secondary}))},1306:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tabs=void 0;var react_1=__importDefault(__webpack_require__(0)),theming_1=__webpack_require__(4),components_1=__webpack_require__(30);exports.Tabs=function(_a){var _b,activeIdx=_a.activeIdx,_c=_a.singleTab,singleTab=void 0!==_c&&_c,tabs=_a.tabs,_d=_a.onTabClick,onTabClick=void 0===_d?function(){}:_d,_e=_a.onResetSelections,onResetSelections=void 0===_e?function(){}:_e,showTabs=1===tabs.length&&singleTab||tabs.length>1,actionItems=[{title:"Reset selections",onClick:onResetSelections}];return react_1.default.createElement(Container,null,showTabs&&react_1.default.createElement(List,null,react_1.default.createElement("div",{className:"fixture-section-tabs"},tabs.map((function(tab,idx){return react_1.default.createElement(Item,{key:idx,active:activeIdx===idx,onClick:function(){return onTabClick(idx)}},tab.label)})))),null===(_b=tabs[activeIdx])||void 0===_b?void 0:_b.panel,react_1.default.createElement(components_1.ActionBar,{actionItems:actionItems}))};var templateObject_1,templateObject_2,templateObject_3,templateObject_4,Container=theming_1.styled.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  position: relative;\n  width: 100%;\n  min-height: 100%;\n"],["\n  position: relative;\n  width: 100%;\n  min-height: 100%;\n"]))),Item=theming_1.styled.button(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  text-decoration: none;\n  padding: 10px 15px;\n  cursor: pointer;\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  line-height: 1;\n  height: 40px;\n  border: none;\n  border-top: 3px solid transparent;\n  border-bottom: 3px solid transparent;\n  background: transparent;\n\n  &:focus {\n    outline: 0 none;\n    border-bottom: 3px solid ",";\n  }\n\n  ","\n"],["\n  text-decoration: none;\n  padding: 10px 15px;\n  cursor: pointer;\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  line-height: 1;\n  height: 40px;\n  border: none;\n  border-top: 3px solid transparent;\n  border-bottom: 3px solid transparent;\n  background: transparent;\n\n  &:focus {\n    outline: 0 none;\n    border-bottom: 3px solid ",";\n  }\n\n  ","\n"])),(function(_a){return _a.theme.typography.weight.bold}),(function(_a){return _a.theme.typography.size.s2-1}),(function(_a){return _a.theme.barTextColor}),(function(_a){return _a.theme.color.secondary}),(function(_a){var active=_a.active,theme=_a.theme;return active&&theming_1.css(templateObject_2||(templateObject_2=__makeTemplateObject(["\n      color: ",";\n      border-bottom: 3px solid ",";\n    "],["\n      color: ",";\n      border-bottom: 3px solid ",";\n    "])),theme.color.secondary,theme.color.secondary)})),List=theming_1.styled.div(templateObject_4||(templateObject_4=__makeTemplateObject(["\n  box-shadow: "," 0 -1px 0 0 inset;\n  background: rgba(0, 0, 0, 0.05);\n  display: flex;\n  justify-content: space-between;\n  white-space: nowrap;\n"],["\n  box-shadow: "," 0 -1px 0 0 inset;\n  background: rgba(0, 0, 0, 0.05);\n  display: flex;\n  justify-content: space-between;\n  white-space: nowrap;\n"])),(function(_a){return _a.theme.appBorderColor}))},1307:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.withFixtures=void 0;var qs_1=__importDefault(__webpack_require__(160)),client_api_1=__webpack_require__(1308),addons_1=__importStar(__webpack_require__(78)),local_storage_1=__webpack_require__(529),remotes_1=__webpack_require__(1320),fixtures_1=__webpack_require__(531),_1=__webpack_require__(345);exports.withFixtures=addons_1.makeDecorator({name:_1.ADDON_ID,parameterName:_1.PARAM_KEY,wrapper:function(storyFn,context,_a){var _b=_a.options,options=void 0===_b?{}:_b,_c=_a.parameters,parameters=void 0===_c?{}:_c,channel=addons_1.default.getChannel(),urlQuery=qs_1.default.parse(window.location.search,{ignoreQueryPrefix:!0}),fixturesInput=__assign(__assign({},options),parameters),_d=fixtures_1.processInput(fixturesInput),initialFixtures=_d.fixtures,settings=_d.settings,_e=client_api_1.useState(initialFixtures),fixtures=_e[0],setFixtures=_e[1],_f=client_api_1.useState(JSON.parse(window.localStorage.getItem(_1.ADDON_ID)||"{}")),localState=_f[0],setLocalState=_f[1],serialisedLocalState=JSON.stringify(localState),_g=fixtures_1.getStoryFixturesState({fixtures:fixtures,storyId:context.id,localState:localState,urlQuery:urlQuery.fixtures}),selectedVariants=_g.selectedVariants,activeVariant=_g.activeVariant,selectedVariantIdxs=_g.selectedVariantIdxs,selectedVariantIdxsRef=client_api_1.useRef(selectedVariantIdxs);function updateLocalState(state){var _a,sectionIdx,variantIdx,variantIdxs;if(!state)return setLocalState({}),void(selectedVariantIdxsRef.current=[]);setLocalState(__assign(__assign({},localState),((_a={})[context.id]={query:(sectionIdx=state.sectionIdx,variantIdx=state.variantIdx,variantIdxs=selectedVariantIdxsRef.current,void 0!==variantIdx&&(variantIdxs[sectionIdx]=variantIdx),fixtures_1.stringifyStoryState(variantIdxs,sectionIdx))},_a)))}return client_api_1.useEffect((function(){var isRemote="string"==typeof activeVariant&&activeVariant.startsWith("fetch::");if(!urlQuery.fixtures||isRemote)return isRemote?remotes_1.fetchRemotes(fixtures).then((function(resolvedFixtures){setFixtures(resolvedFixtures),channel.emit(_1.Events.INIT_PANEL,{fixtures:resolvedFixtures,settings:settings})})):channel.emit(_1.Events.INIT_PANEL,{fixtures:fixtures,settings:settings}),channel.on(_1.Events.SELECT_FIXTURE,updateLocalState),function(){channel.off(_1.Events.SELECT_FIXTURE,updateLocalState),channel.emit(_1.Events.INIT_PANEL)}}),[]),client_api_1.useEffect((function(){local_storage_1.writeStorage(_1.ADDON_ID,localState)}),[serialisedLocalState]),storyFn(__assign(__assign({},context),{fixtures:selectedVariants,fixture:activeVariant}))}})},1320:function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__asyncValues=this&&this.__asyncValues||function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o="function"==typeof __values?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchRemotes=void 0;var cross_fetch_1=__importDefault(__webpack_require__(1321));exports.fetchRemotes=function fetchRemotes(fixtures){var e_1,_a,e_2,_b;return __awaiter(this,void 0,void 0,(function(){var entries,result,entries_1,entries_1_1,_c,key,variants,variantEntries,isVariantsArray,variantEntries_1,variantEntries_1_1,_d,vKey,vVal,variantKey,url,_e,_f,err_1,e_2_1,e_1_1;return __generator(this,(function(_g){switch(_g.label){case 0:entries=Object.entries(fixtures),result={},_g.label=1;case 1:_g.trys.push([1,22,23,28]),entries_1=__asyncValues(entries),_g.label=2;case 2:return[4,entries_1.next()];case 3:if((entries_1_1=_g.sent()).done)return[3,21];_c=entries_1_1.value,key=_c[0],variants=_c[1],result[key]={},variantEntries=Object.entries(variants),isVariantsArray=Array.isArray(variants),_g.label=4;case 4:_g.trys.push([4,14,15,20]),e_2=void 0,variantEntries_1=__asyncValues(variantEntries),_g.label=5;case 5:return[4,variantEntries_1.next()];case 6:if((variantEntries_1_1=_g.sent()).done)return[3,13];if(_d=variantEntries_1_1.value,vKey=_d[0],vVal=_d[1],variantKey=isVariantsArray?"Variant "+(Number(vKey)+1):vKey,!isFetchString(vVal))return[3,11];url=vVal.replace(/^fetch::/,""),_g.label=7;case 7:return _g.trys.push([7,9,,10]),_e=result[key],_f=variantKey,[4,cross_fetch_1.default(url).then((function(r){return r.ok||console.error("Failed to fetch "+vVal),r.json()}))];case 8:return _e[_f]=_g.sent(),[3,10];case 9:throw err_1=_g.sent(),new Error(err_1);case 10:return[3,12];case 11:result[key][variantKey]=vVal,_g.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return e_2_1=_g.sent(),e_2={error:e_2_1},[3,20];case 15:return _g.trys.push([15,,18,19]),variantEntries_1_1&&!variantEntries_1_1.done&&(_b=variantEntries_1.return)?[4,_b.call(variantEntries_1)]:[3,17];case 16:_g.sent(),_g.label=17;case 17:return[3,19];case 18:if(e_2)throw e_2.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return e_1_1=_g.sent(),e_1={error:e_1_1},[3,28];case 23:return _g.trys.push([23,,26,27]),entries_1_1&&!entries_1_1.done&&(_a=entries_1.return)?[4,_a.call(entries_1)]:[3,25];case 24:_g.sent(),_g.label=25;case 25:return[3,27];case 26:if(e_1)throw e_1.error;return[7];case 27:return[7];case 28:return[2,result]}}))}))};var isFetchString=function(arg){return"string"==typeof arg&&/^fetch::\.?\/|https?:\/\//.test(arg)}},1328:function(module,exports,__webpack_require__){"use strict";__webpack_require__(78).addons.setConfig({refs:{}})},345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keyBy=exports.withFixtures=exports.Events=exports.PANEL_ID=exports.PARAM_KEY=exports.ADDON_ID=void 0,exports.ADDON_ID="storybook-fixtures",exports.PARAM_KEY="fixtures",exports.PANEL_ID=exports.ADDON_ID+"/panel",exports.Events={INIT_PANEL:exports.ADDON_ID+"/init",SELECT_FIXTURE:exports.ADDON_ID+"/select-fixture"};var decorator_1=__webpack_require__(1307);Object.defineProperty(exports,"withFixtures",{enumerable:!0,get:function(){return decorator_1.withFixtures}});var lodash_1=__webpack_require__(532);Object.defineProperty(exports,"keyBy",{enumerable:!0,get:function(){return lodash_1.keyBy}})},527:function(module,exports,__webpack_require__){"use strict";var __makeTemplateObject=this&&this.__makeTemplateObject||function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEntries=void 0;var isPlainObject_1=__importDefault(__webpack_require__(1295)),react_1=__importStar(__webpack_require__(0)),addons_1=__importDefault(__webpack_require__(78)),api_1=__webpack_require__(45),core_events_1=__webpack_require__(66),local_storage_1=__webpack_require__(529),theming_1=__webpack_require__(4),PanelSection_1=__importDefault(__webpack_require__(1305)),fixtures_1=__webpack_require__(531),Tabs_1=__webpack_require__(1306),__1=__webpack_require__(345),fixtureExample="\nmyStory.parameters = {\n  fixtures: {\n    'Section name (tab)': {\n      'Variant name': {\n         // fixture data\n       }\n    }\n  }\n}\n".trim();function EmptyPlaceholder(){return react_1.default.createElement(Placeholder,null,react_1.default.createElement("div",{className:"content"},react_1.default.createElement("h3",null,"No fixtures"),react_1.default.createElement("p",null,"Add story fixtures using `fixtures` story parameter."),react_1.default.createElement("code",null,fixtureExample)))}function getEntries(obj){return void 0===obj&&(obj={}),Array.isArray(obj)?obj.map((function(x,i){return["Variant "+(i+1),x]})):isPlainObject_1.default(obj)?Object.entries(obj):[]}exports.getEntries=getEntries,exports.default=function Panel(){var api=api_1.useStorybookApi(),_a=api.getUrlState().storyId,storyId=void 0===_a?"":_a,storiesState=local_storage_1.useLocalStorage(__1.ADDON_ID,{})[0],_b=function getCurrentStoryState(){var currentStory=storiesState[storyId]||{};return fixtures_1.parseStoryState(currentStory.query)}(),selectedSectionIdx=_b.selectedSectionIdx,selectedVariantIdxs=_b.selectedVariantIdxs,_c=react_1.useState({}),fixtures=_c[0],setFixtures=_c[1],_d=react_1.useState({}),fixtureSettings=_d[0],setFixtureSettings=_d[1],selectedVariantIdx=selectedVariantIdxs[selectedSectionIdx],_e=react_1.useState(selectedSectionIdx),activeSectionIdx=_e[0],setActiveSectionIdx=_e[1],_f=react_1.useState(!1),initialisedValues=_f[0],setInitialisedValues=_f[1],channel=addons_1.default.getChannel(),entries=getEntries(fixtures),sectionNames=Object.keys(fixtures);function initialise(initialValues){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return initialValues?(setFixtures(initialValues.fixtures),setFixtureSettings(initialValues.settings),setActiveSectionIdx(0),setInitialisedValues(!0),[2]):(setFixtures({}),setFixtureSettings({}),setInitialisedValues(!1),[2])}))}))}function selectVariant(sectionIdx,variantIdx){setActiveSectionIdx(sectionIdx),channel.emit(__1.Events.SELECT_FIXTURE,{sectionIdx:sectionIdx,variantIdx:variantIdx})}function selectSection(sectionIdx){setActiveSectionIdx(sectionIdx),channel.emit(__1.Events.SELECT_FIXTURE,{sectionIdx:sectionIdx})}function handlePreviewKeyDown(_a){handleKeyDown(_a.event)}function handleKeyDown(_a){var key=_a.key,altKey=_a.altKey,keyCode=_a.keyCode;altKey&&keyCode>=49&&keyCode<=57&&selectSection(-49+keyCode),"l"===key&&activeSectionIdx<sectionNames.length-1&&selectSection(activeSectionIdx+1),"h"===key&&activeSectionIdx>0&&selectSection(activeSectionIdx-1)}react_1.useEffect((function(){return channel.on(__1.Events.INIT_PANEL,initialise),function(){channel.off(__1.Events.INIT_PANEL,initialise)}}),[]),react_1.useEffect((function(){return sectionNames.length&&(channel.on(core_events_1.PREVIEW_KEYDOWN,handlePreviewKeyDown),document.addEventListener("keydown",handleKeyDown)),function(){sectionNames.length&&(document.removeEventListener("keydown",handleKeyDown),channel.off(core_events_1.PREVIEW_KEYDOWN,handlePreviewKeyDown))}}),[JSON.stringify(sectionNames),activeSectionIdx]),react_1.useEffect((function(){api.setQueryParams({fixtures:fixtures_1.stringifyStoryState(selectedVariantIdxs,activeSectionIdx)})}),[activeSectionIdx,JSON.stringify(selectedVariantIdxs)]);var createLabel=function(label,key){return react_1.default.createElement(StyledTabButtonContent,null,react_1.default.createElement("span",{className:"tab-label"},label),entries.length>1&&key<=9&&react_1.default.createElement("span",{className:"tab-label-key"},"alt+",key))},tabs=entries.map((function(_a,idx){var label=_a[0],contents=_a[1];return{label:createLabel(label,idx+1),panel:react_1.default.createElement(PanelSection_1.default,{key:label,active:activeSectionIdx===idx,fixtureContents:contents,sectionIdx:idx,selectedFixtureIdx:selectedVariantIdx,onSelect:selectVariant})}}));return initialisedValues&&0===tabs.length?react_1.default.createElement(EmptyPlaceholder,null):0===tabs.length?null:react_1.default.createElement(Tabs_1.Tabs,{tabs:tabs,singleTab:fixtureSettings.singleTab,activeIdx:activeSectionIdx,onTabClick:selectSection,onResetSelections:function handleResetSelections(){channel.emit(__1.Events.SELECT_FIXTURE,null)}})};var templateObject_1,templateObject_2,Placeholder=theming_1.styled.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n\n  .content {\n    border: 2px solid #aaa3;\n    padding: 2rem;\n    margin: 1rem auto;\n  }\n\n  h3 {\n    font-weight: 600;\n    font-size: 1.4em;\n  }\n\n  code {\n    white-space: pre;\n    padding: 1rem;\n    background-color: #0001;\n    display: block;\n    margin: 0 -1rem -1rem -1rem;\n  }\n"],["\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n\n  .content {\n    border: 2px solid #aaa3;\n    padding: 2rem;\n    margin: 1rem auto;\n  }\n\n  h3 {\n    font-weight: 600;\n    font-size: 1.4em;\n  }\n\n  code {\n    white-space: pre;\n    padding: 1rem;\n    background-color: #0001;\n    display: block;\n    margin: 0 -1rem -1rem -1rem;\n  }\n"]))),StyledTabButtonContent=theming_1.styled.span(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  .tab-label-key {\n    display: inline-block;\n    margin-left: 0.5rem;\n    text-transform: uppercase;\n    background-color: #0002;\n    color: ",";\n    font-size: 9px;\n    padding: 0.2rem 0.3rem;\n    border-radius: 3px;\n  }\n"],["\n  .tab-label-key {\n    display: inline-block;\n    margin-left: 0.5rem;\n    text-transform: uppercase;\n    background-color: #0002;\n    color: ",";\n    font-size: 9px;\n    padding: 0.2rem 0.3rem;\n    border-radius: 3px;\n  }\n"])),(function(_a){return _a.theme.barTextColor}))},531:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.processInput=exports.getStoryFixturesState=exports.parseStoryState=exports.stringifyStoryState=void 0;var lodash_1=__webpack_require__(532);function parseStoryState(stateStr){void 0===stateStr&&(stateStr="");var _a=stateStr.split("."),fixturesStr=_a[0],sectionIdxStr=_a[1],selectedSectionIdx=parseInt(sectionIdxStr,10)||0,selectedVariantIdxs=fixturesStr?fixturesStr.split("-").map(Number):[];return{selectedSectionIdx:selectedSectionIdx,selectedVariantIdxs:selectedVariantIdxs,selectedSectionVariantIdx:selectedVariantIdxs[selectedSectionIdx]}}exports.stringifyStoryState=function stringifyStoryState(selectedVariantIdxs,selectedSectionIdx){return void 0===selectedVariantIdxs&&(selectedVariantIdxs=[]),void 0===selectedSectionIdx&&(selectedSectionIdx=0),[selectedVariantIdxs.join("-"),selectedSectionIdx].join(".")},exports.parseStoryState=parseStoryState,exports.getStoryFixturesState=function getStoryFixturesState(_a){var fixtures=_a.fixtures,storyId=_a.storyId,localState=_a.localState,urlQuery=_a.urlQuery,localStorageQuery=(localState[storyId]||{}).query,_b=parseStoryState(urlQuery||localStorageQuery),selectedVariantIdxs=_b.selectedVariantIdxs,selectedSectionIdx=_b.selectedSectionIdx,selectedVariants=Object.values(fixtures).reduce((function(acc,curr,idx){var variant=Object.values(curr)[selectedVariantIdxs[idx]||0];return acc.push(variant),acc}),[]);return{selectedVariants:selectedVariants,activeVariant:selectedVariants[selectedSectionIdx],selectedVariantIdxs:selectedVariantIdxs}},exports.processInput=function processInput(fixtures){void 0===fixtures&&(fixtures={});var settings={singleTab:!1};return{fixtures:Object.entries(fixtures).reduceRight((function(acc,_a){var _b,k=_a[0],v=_a[1];if(k.startsWith("__")){var settingsKey=k.replace("__","");return settings[settingsKey]=v,acc}return lodash_1.isEmpty(v)?acc:__assign(((_b={})[k]=v,_b),acc)}),{}),settings:settings}}},545:function(module,exports,__webpack_require__){__webpack_require__(546),__webpack_require__(822),__webpack_require__(853),__webpack_require__(1294),__webpack_require__(1322),module.exports=__webpack_require__(1328)},646:function(module,exports){},680:function(module,exports){},822:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_addons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(78),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);_storybook_addons__WEBPACK_IMPORTED_MODULE_0__.addons.setConfig({theme:Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.create)({base:"light",brandTitle:"Vue examples"})})}},[[545,1,2]]]);